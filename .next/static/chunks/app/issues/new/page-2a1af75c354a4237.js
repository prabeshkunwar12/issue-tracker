(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{2562:function(){},62:function(e,r,i){Promise.resolve().then(i.bind(i,5145))},5145:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return f}});var s=i(3827),n=i(8186),t=i(5757),l=i(7615),o=i(6714),d=i(2670),a=i(9317);i(8820);var c=i(7907),u=i(4090),p=i(1270),x=i(248);let h=x.z.object({title:x.z.string().min(1,"title is required").max(255),description:x.z.string().min(1,"description is required")});var m=i(6524),j=e=>{let{children:r}=e;return r?(0,s.jsx)(m.x,{color:"red",as:"p",children:r}):null},b=()=>(0,s.jsx)("div",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:(0,s.jsx)("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})}),f=()=>{var e,r;let i=(0,c.useRouter)(),{register:x,control:m,handleSubmit:f,formState:{errors:v}}=(0,d.cI)({resolver:(0,p.F)(h)}),[w,_]=(0,u.useState)(""),[N,g]=(0,u.useState)(!1),k=f(async e=>{try{g(!0),await a.Z.post("/api/issues",e),i.push("/issues")}catch(e){g(!1),_("An unexpected error occured")}});return(0,s.jsxs)("div",{className:"max-w-xl space-y-3",children:[w&&(0,s.jsx)(n.Callout.Root,{color:"red",className:"mb-5",children:(0,s.jsx)(n.Callout.Text,{children:w})}),(0,s.jsxs)("form",{onSubmit:k,children:[(0,s.jsx)(t.TextField.Root,{children:(0,s.jsx)(t.TextField.Input,{placeholder:"Title",...x("title")})}),(0,s.jsx)(j,{children:null===(e=v.title)||void 0===e?void 0:e.message}),(0,s.jsx)(d.Qr,{name:"description",control:m,render:e=>{let{field:r}=e;return(0,s.jsx)(o.Z,{placeholder:"description",...r})}}),(0,s.jsx)(j,{children:null===(r=v.description)||void 0===r?void 0:r.message}),(0,s.jsxs)(l.z,{disabled:N,children:["Submit New Issue ",N&&(0,s.jsx)(b,{})]})]})]})}}},function(e){e.O(0,[960,984,929,971,69,744],function(){return e(e.s=62)}),_N_E=e.O()}]);